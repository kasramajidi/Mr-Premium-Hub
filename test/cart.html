<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>سبد خرید | ريتكس</title>
  <link rel="icon" href="Images/Logo/Raitx%20international%20payments%20logo%20design%20(1).png">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div id="site-header"></div>
  <main class="site-main">
    <div class="container" style="padding-top: 2rem; padding-bottom: 3rem;">
      <h1 class="section-title">سبد خرید</h1>
      <p class="section-desc">محصولات اضافه‌شده به سبد در اینجا نمایش داده می‌شوند.</p>
      <div id="cart-items" style="margin-top:1.5rem;"></div>
    </div>
  </main>

  <div id="site-footer"></div>
  <script src="js/layout.js"></script>
  <script>layout.init();</script>
  <script>
    (function () {
      var el = document.getElementById('cart-items');
      if (!el) return;
      var items = [];
      try { items = JSON.parse(sessionStorage.getItem('cp_cart_items') || '[]'); } catch (e) {}
      if (!items.length) {
        el.innerHTML = '<p style="color:#6b7280">سبد خرید شما خالی است.</p>';
        return;
      }
      var serviceLabels = { 'vps-trading': 'VPS تریدینگ', 'vps-daily': 'VPS روزانه', 'vps-usa': 'VPS آمریکا', 'vps-netherlands': 'VPS هلند', 'vps-france': 'VPS فرانسه' };
      var html = '<ul style="list-style:none;padding:0;margin:0">';
      items.forEach(function (it) {
        if (it.type === 'vps-plan' && it.planTitle) {
          var label = serviceLabels[it.serviceId] || it.serviceId;
          html += '<li style="padding:0.75rem;border:1px solid #e5e7eb;border-radius:0.5rem;margin-bottom:0.5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:0.5rem"><span><strong>' + (label || '') + '</strong> — ' + (it.planTitle || it.planId) + '</span></li>';
        }
      });
      html += '</ul>';
      html += '<p style="margin-top:1rem"><button type="button" id="cart-clear-btn" style="padding:0.5rem 1rem;background:#f3f4f6;border:1px solid #d1d5db;border-radius:0.375rem;cursor:pointer">خالی کردن سبد</button></p>';
      el.innerHTML = html;
      var clearBtn = document.getElementById('cart-clear-btn');
      if (clearBtn) clearBtn.addEventListener('click', function () { sessionStorage.removeItem('cp_cart_items'); window.location.reload(); });
    })();
  </script>
  <script src="js/app.js"></script>
</body>
</html>
